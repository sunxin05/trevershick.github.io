<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>trevershick.github.io</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/trevershick">View On GitHub</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1><a href="/">trevershick.github.io</a></h1>
         <!-- <p>Trever Shick Github Page</p> -->
          <hr>
        </div>
        
        <h2>Hibernate testing with H2 and Oracle</h2>
<p class="meta">02 Jul 2011</p>

<div id="post">
<p>I was working with a team that was using Hibernate with Oracle and writing &#8216;unit tests&#8217;. My major issue was that the tests were slow when running against Oracle. Unit tests should be as fast as possible. There are different ways to skin this cat such as having a separate module for integration tests but I wanted to make it fairly transparent for the developers. By default I wanted to run the tests with H2 but allow them to switch to Oracle for their tests very easily.</p>

<p>The solution was to use Maven profiles to add database specific configuration files to the test resources in the build. For H2 (default) it would add src/test/h2 and src/test/oracle for Oracle. The file names are identical in these files (spring-test-database-config.xml), so that the unit tests themselves are ignorant which one they&#8217;re loading. It seems to work like a champ. I&#8217;ll give it some time and report back though. The gist is below that shows the changes to my pom.xml to support this scheme. I&#8217;ve also included the database config files for completeness sake.</p>

<p>I&#8217;ve also included a <a href='href=&quot;http://dl.dropbox.com/u/7812537/h2_and_oracle_unit_tests.swf.html'>video</a> demonstrating how this works within Eclipse using m2eclipse which is our development environment.</p>
<script src='https://gist.github.com/1061641.js'> </script>
</div>

     
      </section>
<!--
      <span class="credits left">Project maintained by <a href="https://github.com/trevershick">trevershick</a></span>
      <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></span>
-->
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>